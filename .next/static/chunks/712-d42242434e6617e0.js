(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[712],{8786:function(e,t,r){"use strict";r.d(t,{V:function(){return o}});var a=r(7437),s=r(2265),n=r(2975),i=r(9829),c=r(5249),l=r(1994);function o(e){let{label:t,value:r,onChange:o,placeholder:u="Search for location...",className:d="",showAllTypes:m=!0,debounceMs:h=300}=e,[x,p]=(0,s.useState)(""),[f,y]=(0,s.useState)([]),[g,v]=(0,s.useState)(!1),[j,b]=(0,s.useState)(!1),N=(0,s.useRef)(null),w=(0,s.useRef)();(0,s.useEffect)(()=>{if(x.length<2){y([]);return}return w.current&&clearTimeout(w.current),w.current=setTimeout(async()=>{await k(x)},h),()=>{w.current&&clearTimeout(w.current)}},[x,h]);let k=async e=>{v(!0);try{let t=await fetch("/api/locations?type=comprehensive&q=".concat(encodeURIComponent(e),"&limit=20")),r=await t.json();if(r.success){let e=[];r.data.states&&r.data.states.forEach(t=>{e.push({id:"state-".concat(t.name),type:"state",name:t.name,displayName:t.name})}),r.data.districts&&r.data.districts.forEach(t=>{e.push({id:"district-".concat(t.state,"-").concat(t.district),type:"district",name:t.district,state:t.state,displayName:"".concat(t.district,", ").concat(t.state)})}),r.data.cities&&r.data.cities.forEach(t=>{e.push({id:"city-".concat(t.state,"-").concat(t.city),type:"city",name:t.city,state:t.state,district:t.district,lat:t.lat,lng:t.lng,displayName:t.district?"".concat(t.city,", ").concat(t.district,", ").concat(t.state):"".concat(t.city,", ").concat(t.state)})}),r.data.localities&&r.data.localities.forEach(t=>{e.push({id:"locality-".concat(t.state,"-").concat(t.city,"-").concat(t.locality),type:"locality",name:t.locality,state:t.state,district:t.district,city:t.city,locality:t.locality,lat:t.lat,lng:t.lng,displayName:t.district?"".concat(t.locality,", ").concat(t.city,", ").concat(t.district,", ").concat(t.state):"".concat(t.locality,", ").concat(t.city,", ").concat(t.state)})}),y(e)}}catch(e){console.error("Error fetching locations:",e),y([])}finally{v(!1)}},C=e=>{p(e),b(!0),!e&&e&&o(null)},Z=e=>{switch(e){case"state":return"\uD83C\uDFDB️";case"district":return"\uD83C\uDFD8️";case"city":return"\uD83C\uDFD9️";case"locality":return"\uD83C\uDFE0";default:return"\uD83D\uDCCD"}},D=e=>{switch(e){case"state":return"State";case"district":return"District";case"city":return"City";case"locality":return"Locality";default:return"Location"}};return(0,a.jsx)("div",{className:"relative ".concat(d),children:(0,a.jsxs)(c.h,{as:"div",value:r,onChange:e=>{o(e),e?p(e.displayName):p(""),b(!1)},children:[(0,a.jsx)(c.h.Label,{className:"block text-sm font-medium leading-6 text-gray-900 mb-2",children:t}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(c.h.Input,{className:"w-full rounded-md border-0 bg-white py-2 pl-10 pr-10 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",onChange:e=>C(e.target.value),onFocus:()=>{b(!0)},onBlur:()=>{setTimeout(()=>b(!1),200)},displayValue:e=>e?e.displayName:"",placeholder:u,ref:N}),(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3",children:(0,a.jsx)(n.Z,{className:"h-5 w-5 text-gray-400"})}),(0,a.jsx)(c.h.Button,{className:"absolute inset-y-0 right-0 flex items-center rounded-r-md px-2 focus:outline-none",children:(0,a.jsx)(i.Z,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})})]}),j&&(0,a.jsxs)(c.h.Options,{className:"absolute z-10 mt-1 max-h-60 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm",children:[g&&(0,a.jsx)("div",{className:"relative cursor-default select-none py-2 pl-3 pr-9 text-gray-500",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-indigo-600 mr-2"}),"Searching locations..."]})}),!g&&0===f.length&&x.length>=2&&(0,a.jsx)("div",{className:"relative cursor-default select-none py-2 pl-3 pr-9 text-gray-500",children:"No locations found."}),!g&&f.length>0&&(0,a.jsx)(a.Fragment,{children:f.map(e=>(0,a.jsx)(c.h.Option,{value:e,className:e=>{let{active:t}=e;return(0,l.Z)("relative cursor-default select-none py-2 pl-3 pr-9",t?"bg-indigo-600 text-white":"text-gray-900")},children:t=>{let{active:r,selected:s}=t;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("span",{className:"text-lg mr-2",children:Z(e.type)}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("span",{className:(0,l.Z)("block truncate",s&&"font-semibold"),children:e.displayName}),(0,a.jsxs)("span",{className:(0,l.Z)("block text-xs",r?"text-indigo-200":"text-gray-500"),children:[D(e.type),e.lat&&e.lng&&(0,a.jsxs)("span",{className:"ml-2",children:["\uD83D\uDCCD ",e.lat.toFixed(4),", ",e.lng.toFixed(4)]})]})]})]}),s&&(0,a.jsx)("span",{className:(0,l.Z)("absolute inset-y-0 right-0 flex items-center pr-4",r?"text-white":"text-indigo-600"),children:"✓"})]})}},e.id))})]})]})]})})}},8921:function(e,t,r){"use strict";r.d(t,{SearchBar:function(){return d}});var a=r(7437),s=r(2265),n=r(9376),i=r(3247),c=r(3577),l=r(1128),o=r(3299),u=r(8786);function d(){let[e,t]=(0,s.useState)({location:null,minPrice:"",maxPrice:"",bedrooms:"",bathrooms:""}),[r,d]=(0,s.useState)(!1),m=(0,n.useRouter)(),h=(e,r)=>{t(t=>({...t,[e]:r}))};return(0,a.jsx)("section",{className:"py-12 bg-white",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Find Your Next Home"}),(0,a.jsx)("p",{className:"text-lg text-gray-600",children:"Search through thousands of verified rental properties"})]}),(0,a.jsx)("form",{onSubmit:t=>{t.preventDefault();let r=new URLSearchParams;e.location&&r.set("location",e.location.displayName),e.minPrice&&r.set("minPrice",e.minPrice),e.maxPrice&&r.set("maxPrice",e.maxPrice),e.bedrooms&&r.set("bedrooms",e.bedrooms),e.bathrooms&&r.set("bathrooms",e.bathrooms),m.push("/listings?".concat(r.toString()))},className:"max-w-4xl mx-auto",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4 mb-4",children:[(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsx)(u.V,{label:"",value:e.location,onChange:e=>t(t=>({...t,location:e})),placeholder:"Enter city, state, or address",className:"w-full"})}),(0,a.jsxs)("button",{type:"submit",className:"btn-primary btn-lg flex items-center justify-center",children:[(0,a.jsx)(i.Z,{className:"h-5 w-5 mr-2"}),"Search"]})]}),(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsxs)("button",{type:"button",onClick:()=>d(!r),className:"flex items-center text-primary-600 hover:text-primary-700 font-medium",children:[(0,a.jsx)(c.Z,{className:"h-4 w-4 mr-2"}),r?"Hide Filters":"Show Filters"]})}),r&&(0,a.jsx)("div",{className:"mt-6 pt-6 border-t border-gray-200",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Min Price"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"₹"}),(0,a.jsx)("input",{type:"number",placeholder:"0",value:e.minPrice,onChange:e=>h("minPrice",e.target.value),className:"input pl-8"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Price"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"₹"}),(0,a.jsx)("input",{type:"number",placeholder:"50000",value:e.maxPrice,onChange:e=>h("maxPrice",e.target.value),className:"input pl-8"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bedrooms"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(l.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,a.jsxs)("select",{value:e.bedrooms,onChange:e=>h("bedrooms",e.target.value),className:"input pl-10",children:[(0,a.jsx)("option",{value:"",children:"Any"}),(0,a.jsx)("option",{value:"0",children:"Studio"}),(0,a.jsx)("option",{value:"1",children:"1+"}),(0,a.jsx)("option",{value:"2",children:"2+"}),(0,a.jsx)("option",{value:"3",children:"3+"}),(0,a.jsx)("option",{value:"4",children:"4+"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bathrooms"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(o.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,a.jsxs)("select",{value:e.bathrooms,onChange:e=>h("bathrooms",e.target.value),className:"input pl-10",children:[(0,a.jsx)("option",{value:"",children:"Any"}),(0,a.jsx)("option",{value:"1",children:"1+"}),(0,a.jsx)("option",{value:"1.5",children:"1.5+"}),(0,a.jsx)("option",{value:"2",children:"2+"}),(0,a.jsx)("option",{value:"2.5",children:"2.5+"}),(0,a.jsx)("option",{value:"3",children:"3+"})]})]})]})]})})]})}),(0,a.jsxs)("div",{className:"mt-8",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Popular searches:"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:["Apartments in Mumbai","Houses in Bangalore","Studios in Delhi","Pet-friendly rentals","Furnished apartments"].map(e=>(0,a.jsx)("button",{onClick:()=>{t(t=>({...t,location:e})),m.push("/listings?location=".concat(encodeURIComponent(e)))},className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-full text-sm font-medium text-gray-700 transition-colors",children:e},e))})]})]})})}},4508:function(e,t,r){"use strict";function a(e){return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}r.d(t,{T4:function(){return a}})},9205:function(e,t,r){"use strict";r.d(t,{Z:function(){return d}});var a=r(2265);let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),i=e=>{let t=n(e);return t.charAt(0).toUpperCase()+t.slice(1)},c=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()},l=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var o={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let u=(0,a.forwardRef)((e,t)=>{let{color:r="currentColor",size:s=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:u="",children:d,iconNode:m,...h}=e;return(0,a.createElement)("svg",{ref:t,...o,width:s,height:s,stroke:r,strokeWidth:i?24*Number(n)/Number(s):n,className:c("lucide",u),...!d&&!l(h)&&{"aria-hidden":"true"},...h},[...m.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...Array.isArray(d)?d:[d]])}),d=(e,t)=>{let r=(0,a.forwardRef)((r,n)=>{let{className:l,...o}=r;return(0,a.createElement)(u,{ref:n,iconNode:t,className:c("lucide-".concat(s(i(e))),"lucide-".concat(e),l),...o})});return r.displayName=i(e),r}},3577:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9205).Z)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]])},8997:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9205).Z)("heart",[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]])},4938:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9205).Z)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]])},3774:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9205).Z)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},3247:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9205).Z)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},6595:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9205).Z)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])},257:function(e,t,r){"use strict";var a,s;e.exports=(null==(a=r.g.process)?void 0:a.env)&&"object"==typeof(null==(s=r.g.process)?void 0:s.env)?r.g.process:r(4227)},4227:function(e){!function(){var t={229:function(e){var t,r,a,s=e.exports={};function n(){throw Error("setTimeout has not been defined")}function i(){throw Error("clearTimeout has not been defined")}function c(e){if(t===setTimeout)return setTimeout(e,0);if((t===n||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:n}catch(e){t=n}try{r="function"==typeof clearTimeout?clearTimeout:i}catch(e){r=i}}();var l=[],o=!1,u=-1;function d(){o&&a&&(o=!1,a.length?l=a.concat(l):u=-1,l.length&&m())}function m(){if(!o){var e=c(d);o=!0;for(var t=l.length;t;){for(a=l,l=[];++u<t;)a&&a[u].run();u=-1,t=l.length}a=null,o=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===i||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function x(){}s.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new h(e,t)),1!==l.length||o||c(m)},h.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=x,s.addListener=x,s.once=x,s.off=x,s.removeListener=x,s.removeAllListeners=x,s.emit=x,s.prependListener=x,s.prependOnceListener=x,s.listeners=function(e){return[]},s.binding=function(e){throw Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw Error("process.chdir is not supported")},s.umask=function(){return 0}}},r={};function a(e){var s=r[e];if(void 0!==s)return s.exports;var n=r[e]={exports:{}},i=!0;try{t[e](n,n.exports,a),i=!1}finally{i&&delete r[e]}return n.exports}a.ab="//";var s=a(229);e.exports=s}()}}]);