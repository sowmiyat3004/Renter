(()=>{var e={};e.id=938,e.ids=[938],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},58667:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>d,routeModule:()=>u,tree:()=>c}),t(57322),t(4496),t(35866);var r=t(23191),a=t(88716),n=t(37922),i=t.n(n),o=t(95231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);t.d(s,l);let c=["",{children:["settings",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,57322)),"/Users/sowmiya/Renter/Renter/app/settings/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,4496)),"/Users/sowmiya/Renter/Renter/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/sowmiya/Renter/Renter/app/settings/page.tsx"],m="/settings/page",x={require:t,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/settings/page",pathname:"/settings",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},98935:(e,s,t)=>{Promise.resolve().then(t.bind(t,71445))},71445:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>h});var r=t(10326),a=t(17577),n=t(77109),i=t(35047),o=t(90434),l=t(59675),c=t(58885),d=t(60882),m=t(61994),x=t(72591);let u=a.forwardRef(function({title:e,titleId:s,...t},r){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},t),e?a.createElement("title",{id:s},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))});var p=t(96229),g=t(79260);function h(){let{data:e,status:s}=(0,n.useSession)();(0,i.useRouter)();let[t,h]=(0,a.useState)("notifications"),[f,w]=(0,a.useState)({emailNotifications:!0,smsNotifications:!1,listingUpdates:!0,newMessages:!0,adminAlerts:!1}),[j,y]=(0,a.useState)({currentPassword:"",newPassword:"",confirmPassword:""}),[b,N]=(0,a.useState)({current:!1,new:!1,confirm:!1}),[v,P]=(0,a.useState)(!1),[k,C]=(0,a.useState)(""),[E,M]=(0,a.useState)(""),S=async(e,s)=>{let t={...f,[e]:s};w(t);try{let e=await fetch("/api/user/notifications",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),s=await e.json();s.success?(C("Notification settings updated successfully"),setTimeout(()=>C(""),3e3)):(M(s.error||"Failed to update settings"),setTimeout(()=>M(""),5e3))}catch(e){console.error("Error updating notifications:",e),M("Failed to update notification settings"),setTimeout(()=>M(""),5e3)}},Z=async e=>{if(e.preventDefault(),P(!0),M(""),C(""),j.newPassword!==j.confirmPassword){M("New passwords do not match"),P(!1);return}if(j.newPassword.length<8){M("New password must be at least 8 characters long"),P(!1);return}try{let e=await fetch("/api/user/change-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({currentPassword:j.currentPassword,newPassword:j.newPassword})}),s=await e.json();s.success?(C("Password changed successfully"),y({currentPassword:"",newPassword:"",confirmPassword:""})):M(s.error||"Failed to change password")}catch(e){console.error("Error changing password:",e),M("Failed to change password")}finally{P(!1)}},R=e=>{N(s=>({...s,[e]:!s[e]}))};return"loading"===s?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):r.jsx("div",{className:"min-h-screen bg-gray-50",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,r.jsxs)("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Settings"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"Manage your account settings and preferences"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[r.jsx("div",{className:"lg:col-span-1",children:r.jsx("nav",{className:"space-y-1",children:[{id:"notifications",name:"Notifications",icon:l.Z},{id:"security",name:"Security",icon:c.Z},{id:"account",name:"Account",icon:d.Z}].map(e=>(0,r.jsxs)("button",{onClick:()=>h(e.id),className:`w-full flex items-center px-3 py-2 text-sm font-medium rounded-md ${t===e.id?"bg-indigo-100 text-indigo-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[r.jsx(e.icon,{className:"h-5 w-5 mr-3"}),e.name]},e.id))})}),(0,r.jsxs)("div",{className:"lg:col-span-3",children:[k&&(0,r.jsxs)("div",{className:"mb-4 bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded flex items-center",children:[r.jsx(m.Z,{className:"h-5 w-5 mr-2"}),k]}),E&&(0,r.jsxs)("div",{className:"mb-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded flex items-center",children:[r.jsx(x.Z,{className:"h-5 w-5 mr-2"}),E]}),"notifications"===t&&(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,r.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Notification Preferences"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Choose how you want to be notified about updates"})]}),r.jsx("div",{className:"px-6 py-4",children:r.jsx("div",{className:"space-y-6",children:Object.entries(f).map(([e,s])=>(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx(l.Z,{className:"h-5 w-5 text-gray-400 mr-3"}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.replace(/([A-Z])/g," $1").replace(/^./,e=>e.toUpperCase())}),(0,r.jsxs)("p",{className:"text-sm text-gray-500",children:["emailNotifications"===e&&"Receive notifications via email","smsNotifications"===e&&"Receive notifications via SMS","listingUpdates"===e&&"Get notified about your listing status changes","newMessages"===e&&"Get notified about new messages from renters","adminAlerts"===e&&"Get notified about important platform updates"]})]})]}),r.jsx("button",{onClick:()=>S(e,!s),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 ${s?"bg-indigo-600":"bg-gray-200"}`,children:r.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${s?"translate-x-6":"translate-x-1"}`})})]},e))})})]}),"security"===t&&(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,r.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Security Settings"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Manage your password and security preferences"})]}),r.jsx("div",{className:"px-6 py-4",children:(0,r.jsxs)("form",{onSubmit:Z,className:"space-y-6",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Password"}),(0,r.jsxs)("div",{className:"relative",children:[r.jsx("input",{type:b.current?"text":"password",value:j.currentPassword,onChange:e=>y(s=>({...s,currentPassword:e.target.value})),className:"input pr-10",placeholder:"Enter current password",required:!0}),r.jsx("button",{type:"button",onClick:()=>R("current"),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:b.current?r.jsx(u,{className:"h-5 w-5 text-gray-400"}):r.jsx(p.Z,{className:"h-5 w-5 text-gray-400"})})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),(0,r.jsxs)("div",{className:"relative",children:[r.jsx("input",{type:b.new?"text":"password",value:j.newPassword,onChange:e=>y(s=>({...s,newPassword:e.target.value})),className:"input pr-10",placeholder:"Enter new password",required:!0}),r.jsx("button",{type:"button",onClick:()=>R("new"),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:b.new?r.jsx(u,{className:"h-5 w-5 text-gray-400"}):r.jsx(p.Z,{className:"h-5 w-5 text-gray-400"})})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),(0,r.jsxs)("div",{className:"relative",children:[r.jsx("input",{type:b.confirm?"text":"password",value:j.confirmPassword,onChange:e=>y(s=>({...s,confirmPassword:e.target.value})),className:"input pr-10",placeholder:"Confirm new password",required:!0}),r.jsx("button",{type:"button",onClick:()=>R("confirm"),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:b.confirm?r.jsx(u,{className:"h-5 w-5 text-gray-400"}):r.jsx(p.Z,{className:"h-5 w-5 text-gray-400"})})]})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx("button",{type:"submit",disabled:v,className:"bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:v?"Changing...":"Change Password"})})]})})]}),"account"===t&&(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,r.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Account Information"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"View your account details and manage your profile"})]}),(0,r.jsxs)("div",{className:"px-6 py-4",children:[(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx(d.Z,{className:"h-5 w-5 text-gray-400 mr-3"}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Name"}),r.jsx("p",{className:"text-sm text-gray-500",children:e?.user?.name})]})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx(g.Z,{className:"h-5 w-5 text-gray-400 mr-3"}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Email"}),r.jsx("p",{className:"text-sm text-gray-500",children:e?.user?.email})]})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx(c.Z,{className:"h-5 w-5 text-gray-400 mr-3"}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Role"}),r.jsx("p",{className:"text-sm text-gray-500 capitalize",children:e?.user?.role?.toLowerCase()})]})]})]}),r.jsx("div",{className:"mt-6",children:r.jsx(o.default,{href:"/profile",className:"text-indigo-600 hover:text-indigo-900 text-sm font-medium",children:"Edit Profile →"})})]})]})]})]})]})})}},57322:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(68570).createProxy)(String.raw`/Users/sowmiya/Renter/Renter/app/settings/page.tsx#default`)},61994:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});var r=t(17577);let a=r.forwardRef(function({title:e,titleId:s,...t},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":s},t),e?r.createElement("title",{id:s},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))})},79260:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});var r=t(17577);let a=r.forwardRef(function({title:e,titleId:s,...t},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":s},t),e?r.createElement("title",{id:s},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12a7.5 7.5 0 0 0 15 0m-15 0a7.5 7.5 0 1 1 15 0m-15 0H3m16.5 0H21m-1.5 0H12m-8.457 3.077 1.41-.513m14.095-5.13 1.41-.513M5.106 17.785l1.15-.964m11.49-9.642 1.149-.964M7.501 19.795l.75-1.3m7.5-12.99.75-1.3m-6.063 16.658.26-1.477m2.605-14.772.26-1.477m0 17.726-.26-1.477M10.698 4.614l-.26-1.477M16.5 19.794l-.75-1.299M7.5 4.205 12 12m6.894 5.785-1.149-.964M6.256 7.178l-1.15-.964m15.352 8.864-1.41-.513M4.954 9.435l-1.41-.514M12.002 12l-3.75 6.495"}))})},96229:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});var r=t(17577);let a=r.forwardRef(function({title:e,titleId:s,...t},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":s},t),e?r.createElement("title",{id:s},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))})}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[276,498,120],()=>t(58667));module.exports=r})();