"use strict";(()=>{var e={};e.id=654,e.ids=[654],e.modules={53524:e=>{e.exports=require("@prisma/client")},20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},84770:e=>{e.exports=require("crypto")},36253:(e,a,t)=>{t.r(a),t.d(a,{originalPathname:()=>_,patchFetch:()=>Z,requestAsyncStorage:()=>x,routeModule:()=>c,serverHooks:()=>h,staticGenerationAsyncStorage:()=>R});var s={};t.r(s),t.d(s,{POST:()=>d});var r=t(49303),i=t(88716),o=t(60670),n=t(87070),m=t(42023),l=t.n(m),u=t(72331),p=t(30971);async function d(e){try{let a=await e.json(),t=p.JJ.parse(a);if(await u._.user.findUnique({where:{email:t.email}}))return n.NextResponse.json({success:!1,error:"User already exists"},{status:400});let s=await l().hash(t.password,12),r=await u._.user.create({data:{name:t.name,email:t.email,passwordHash:s,role:"USER"},select:{id:!0,name:!0,email:!0,role:!0,createdAt:!0}});return n.NextResponse.json({success:!0,data:r,message:"User created successfully"})}catch(e){if(console.error("Signup error:",e),e instanceof Error&&"ZodError"===e.name)return n.NextResponse.json({success:!1,error:"Invalid input data"},{status:400});return n.NextResponse.json({success:!1,error:"Internal server error"},{status:500})}}let c=new r.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/auth/signup/route",pathname:"/api/auth/signup",filename:"route",bundlePath:"app/api/auth/signup/route"},resolvedPagePath:"/Users/sowmiya/Renter/Renter/app/api/auth/signup/route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:x,staticGenerationAsyncStorage:R,serverHooks:h}=c,_="/api/auth/signup/route";function Z(){return(0,o.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:R})}},72331:(e,a,t)=>{t.d(a,{_:()=>r});var s=t(53524);let r=globalThis.prisma??new s.PrismaClient},30971:(e,a,t)=>{t.d(a,{Dp:()=>m,JJ:()=>r,TH:()=>i,YL:()=>o,oZ:()=>n});var s=t(21067);let r=s.Ry({name:s.Z_().min(2,"Name must be at least 2 characters"),email:s.Z_().email("Invalid email address"),password:s.Z_().min(8,"Password must be at least 8 characters"),confirmPassword:s.Z_()}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});s.Ry({email:s.Z_().email("Invalid email address"),password:s.Z_().min(1,"Password is required")});let i=s.Ry({title:s.Z_().min(5,"Title must be at least 5 characters"),description:s.Z_().min(20,"Description must be at least 20 characters"),priceAmount:s.Rx().min(0,"Price must be positive"),bedrooms:s.Rx().min(0,"Bedrooms must be 0 or more"),bathrooms:s.Rx().min(0,"Bathrooms must be 0 or more"),state:s.Z_().min(1,"State is required"),district:s.Z_().optional(),city:s.Z_().min(1,"City is required"),locality:s.Z_().optional(),address:s.Z_().optional(),lat:s.Rx().min(-90).max(90),lng:s.Rx().min(-180).max(180),amenities:s.IX(s.Z_()).optional()}),o=i.partial().extend({id:s.Z_()}),n=s.Ry({minPrice:s.Rx().optional(),maxPrice:s.Rx().optional(),bedrooms:s.Rx().optional(),bathrooms:s.Rx().optional(),amenities:s.IX(s.Z_()).optional(),lat:s.Rx().optional(),lng:s.Rx().optional(),radius:s.Rx().optional(),page:s.Rx().min(1).default(1),limit:s.Rx().min(1).max(50).default(12)}),m=s.Ry({listingId:s.Z_(),actionType:s.Km(["APPROVE","REJECT","SUSPEND","DELETE"]),reason:s.Z_().optional()});s.Ry({name:s.Z_().min(2,"Name must be at least 2 characters"),email:s.Z_().email("Invalid email address"),message:s.Z_().min(10,"Message must be at least 10 characters"),listingId:s.Z_()})}};var a=require("../../../../webpack-runtime.js");a.C(e);var t=e=>a(a.s=e),s=a.X(0,[276,972,23,67],()=>t(36253));module.exports=s})();