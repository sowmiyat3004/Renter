(()=>{var e={};e.id=178,e.ids=[178],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},8861:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>d}),s(44591),s(4496),s(35866);var r=s(23191),a=s(88716),n=s(37922),i=s.n(n),l=s(95231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let d=["",{children:["profile",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,44591)),"/Users/sowmiya/Renter/Renter/app/profile/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,4496)),"/Users/sowmiya/Renter/Renter/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/sowmiya/Renter/Renter/app/profile/page.tsx"],m="/profile/page",x={require:s,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/profile/page",pathname:"/profile",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},55361:(e,t,s)=>{Promise.resolve().then(s.bind(s,74986))},74986:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>y});var r=s(10326),a=s(17577),n=s(77109),i=s(35047),l=s(41217),o=s(61994),d=s(72591);let c=a.forwardRef(function({title:e,titleId:t,...s},r){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}),m=a.forwardRef(function({title:e,titleId:t,...s},r){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"}))}),x=a.forwardRef(function({title:e,titleId:t,...s},r){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"}))});var u=s(60882);let g=a.forwardRef(function({title:e,titleId:t,...s},r){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))});var h=s(58885),p=s(59675),f=s(31332);function y(){let{data:e,status:t,update:s}=(0,n.useSession)();(0,i.useRouter)();let[y,j]=(0,a.useState)(null),[b,v]=(0,a.useState)({emailNotifications:!0,smsNotifications:!1,listingUpdates:!0,newMessages:!0,adminAlerts:!1}),[N,w]=(0,a.useState)(!1),[k,E]=(0,a.useState)(!0),[C,P]=(0,a.useState)(!1),[A,L]=(0,a.useState)(""),[R,S]=(0,a.useState)({name:"",phone:"",address:"",city:"",state:""}),M=async()=>{P(!0),L("");try{let e=await fetch("/api/user/profile",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(R)}),t=await e.json();t.success?(j(t.data),w(!1),await s({name:R.name})):L(t.error||"Failed to update profile")}catch(e){console.error("Error updating profile:",e),L("Failed to update profile")}finally{P(!1)}},_=async(e,t)=>{let s={...b,[e]:t};v(s);try{await fetch("/api/user/notifications",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)})}catch(e){console.error("Error updating notifications:",e)}};return k?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):y?r.jsx("div",{className:"min-h-screen bg-gray-50",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,r.jsxs)("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Profile"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"Manage your account settings and preferences"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsx("div",{className:"lg:col-span-2",children:(0,r.jsxs)("div",{className:"bg-white shadow rounded-lg",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Profile Information"}),N?(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsxs)("button",{onClick:M,disabled:C,className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:[C?r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):r.jsx(o.Z,{className:"h-4 w-4 mr-2"}),"Save"]}),(0,r.jsxs)("button",{onClick:()=>{y&&S({name:y.name||"",phone:y.phone||"",address:y.address||"",city:y.city||"",state:y.state||""}),w(!1),L("")},className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[r.jsx(d.Z,{className:"h-4 w-4 mr-2"}),"Cancel"]})]}):(0,r.jsxs)("button",{onClick:()=>w(!0),className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[r.jsx(l.Z,{className:"h-4 w-4 mr-2"}),"Edit"]})]})}),(0,r.jsxs)("div",{className:"px-6 py-4",children:[A&&r.jsx("div",{className:"mb-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:A}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Full Name"}),N?r.jsx("input",{type:"text",value:R.name,onChange:e=>S({...R,name:e.target.value}),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"}):r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:y.name})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email Address"}),(0,r.jsxs)("div",{className:"mt-1 flex items-center",children:[r.jsx(c,{className:"h-5 w-5 text-gray-400 mr-2"}),r.jsx("span",{className:"text-sm text-gray-900",children:y.email}),y.isEmailVerified&&r.jsx("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Verified"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),N?r.jsx("input",{type:"tel",value:R.phone,onChange:e=>S({...R,phone:e.target.value}),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"+91 98765 43210"}):(0,r.jsxs)("div",{className:"mt-1 flex items-center",children:[r.jsx(m,{className:"h-5 w-5 text-gray-400 mr-2"}),r.jsx("span",{className:"text-sm text-gray-900",children:y.phone||"Not provided"}),y.isPhoneVerified&&r.jsx("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Verified"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Address"}),N?r.jsx("textarea",{value:R.address,onChange:e=>S({...R,address:e.target.value}),rows:3,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Enter your full address"}):(0,r.jsxs)("div",{className:"mt-1 flex items-start",children:[r.jsx(x,{className:"h-5 w-5 text-gray-400 mr-2 mt-0.5"}),r.jsx("span",{className:"text-sm text-gray-900",children:y.address||"Not provided"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"City"}),N?r.jsx("input",{type:"text",value:R.city,onChange:e=>S({...R,city:e.target.value}),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Enter city"}):r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:y.city||"Not provided"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"State"}),N?r.jsx("input",{type:"text",value:R.state,onChange:e=>S({...R,state:e.target.value}),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Enter state"}):r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:y.state||"Not provided"})]})]})]})]})]})}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"bg-white shadow rounded-lg",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Account Information"})}),(0,r.jsxs)("div",{className:"px-6 py-4 space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx(u.Z,{className:"h-5 w-5 text-gray-400 mr-3"}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Role"}),r.jsx("p",{className:"text-sm text-gray-500 capitalize",children:y.role.toLowerCase()})]})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx(g,{className:"h-5 w-5 text-gray-400 mr-3"}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Member Since"}),r.jsx("p",{className:"text-sm text-gray-500",children:(0,f.a6)(y.createdAt)})]})]}),"ADMIN"===y.role||"SUPER_ADMIN"===y.role?(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx(h.Z,{className:"h-5 w-5 text-red-400 mr-3"}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Admin Access"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Full administrative privileges"})]})]}):null]})]}),(0,r.jsxs)("div",{className:"bg-white shadow rounded-lg",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Notification Settings"})}),r.jsx("div",{className:"px-6 py-4 space-y-4",children:Object.entries(b).map(([e,t])=>(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx(p.Z,{className:"h-5 w-5 text-gray-400 mr-3"}),r.jsx("div",{children:r.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.replace(/([A-Z])/g," $1").replace(/^./,e=>e.toUpperCase())})})]}),r.jsx("button",{onClick:()=>_(e,!t),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 ${t?"bg-indigo-600":"bg-gray-200"}`,children:r.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${t?"translate-x-6":"translate-x-1"}`})})]},e))})]})]})]})]})}):r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Profile not found"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"Unable to load your profile information."})]})})}},31332:(e,t,s)=>{"use strict";function r(e,t){let s="string"==typeof e?new Date(e):e;return new Intl.DateTimeFormat("en-IN",{day:"2-digit",month:"2-digit",year:"numeric",timeZone:"Asia/Kolkata",...t}).format(s)}s.d(t,{a6:()=>r})},44591:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(68570).createProxy)(String.raw`/Users/sowmiya/Renter/Renter/app/profile/page.tsx#default`)},61994:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var r=s(17577);let a=r.forwardRef(function({title:e,titleId:t,...s},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))})},41217:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var r=s(17577);let a=r.forwardRef(function({title:e,titleId:t,...s},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))})}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[276,498,120],()=>s(8861));module.exports=r})();